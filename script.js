(()=>{"use strict";const e=document.getElementById("notifs_container");var t;!function(e){e.DEFAULT="default",e.SUCCESS="success",e.WARNING="warning",e.ERROR="error"}(t||(t={}));class n{constructor(t,n,i,s=0){var l;this.timeout=null,this.element=document.createElement("div"),this.element.classList.add(i),this.element.innerHTML=`<h1>${t}</h1><p>${n}</p><br><a data-msg_close="" href="">Close message</a>`,this.element.lastChild&&(null===(l=this.element.querySelector("[data-msg_close]"))||void 0===l||l.addEventListener("click",this.removeNotif.bind(this))),s&&(this.timeout=window.setTimeout(this.removeNotif.bind(this),s)),null==e||e.appendChild(this.element)}removeNotif(e){null==e||e.preventDefault(),this.element.remove(),this.timeout&&window.clearTimeout(this.timeout)}}let i=!1,s=!1,l=!1;const o=document.getElementById("production_calculator_btn"),c=document.getElementById("power_calculator_btn"),d=document.getElementById("set_research_btn"),r=document.getElementById("set_recipes_btn"),a=document.getElementById("production_inputs_container"),u=(document.getElementById("production_input_list_container"),document.getElementById("add_production_input_btn")),m=document.getElementById("production_outputs_container"),h=(document.getElementById("production_output_list_container"),document.getElementById("add_production_output_btn")),p=document.getElementById("power_output_container"),g=(document.getElementById("power_output_field"),document.getElementById("share_production_btn")),_=document.getElementById("share_power_btn"),y=document.getElementById("research_window"),E=document.getElementById("research_searchbox"),v=(document.getElementById("research_list"),document.getElementById("recipes_window")),f=document.getElementById("recipes_searchbox");function w(){null==d||d.classList.toggle("active"),s&&L(),null==y||y.classList.toggle("hidden"),i=!i}function L(){null==r||r.classList.toggle("active"),i&&w(),null==v||v.classList.toggle("hidden"),s=!s}document.getElementById("recipes_list"),document.getElementById("production_calculator_canvas"),document.getElementById("power_calculator_canvas"),[[o,"click",function(){null==o||o.classList.add("active"),null==c||c.classList.remove("active"),null==a||a.classList.remove("hidden"),null==m||m.classList.remove("hidden"),null==p||p.classList.add("hidden"),null==g||g.classList.remove("hidden"),null==_||_.classList.add("hidden")}],[c,"click",function(){null==o||o.classList.remove("active"),null==c||c.classList.add("active"),null==a||a.classList.add("hidden"),null==m||m.classList.add("hidden"),null==p||p.classList.remove("hidden"),null==g||g.classList.add("hidden"),null==_||_.classList.remove("hidden")}],[d,"click",w],[r,"click",L],[u,"click",function(){new n("Not implemented","This is not yet implemented, sorry.",t.DEFAULT,1e4)}],[h,"click",function(){new n("Not implemented","This is not yet implemented, sorry.",t.DEFAULT,1e4)}],[g,"click",function(){new n("Not implemented","This is not yet implemented, sorry.",t.DEFAULT,1e4)}],[_,"click",function(){new n("Not implemented","This is not yet implemented, sorry.",t.DEFAULT,1e4)}],[E,"input",function(){}],[f,"input",function(){}]].forEach((([e,i,s])=>{e?e.addEventListener(i,s):new n("Missing element",'An element on the page is missing.<br>If you\'re using any kind of blockers, try disabling them.<br>If this persists, please <a href="">create an issue here.</a>',t.ERROR)})),window.location.search&&function(){var e,i,s,l;let o,c,d,r;const a=new URLSearchParams(window.location.search);a.get("pwr");try{o=JSON.parse(null!==(e=a.get("research"))&&void 0!==e?e:"[]"),c=JSON.parse(null!==(i=a.get("recipes"))&&void 0!==i?i:"[]"),d=JSON.parse(null!==(s=a.get("input"))&&void 0!==s?s:"[]"),r=JSON.parse(null!==(l=a.get("output"))&&void 0!==l?l:"[]"),[o,c,d,r].forEach((e=>{if(!Array.isArray(e))throw new Error}))}catch(e){return new n("Invalid JSON",'\n\t\t\tThe JSON parameters (after the question mark in the URL) seem to be malformed.<br>\n\t\t\tIf you\'ve got some time, could you maybe <a target="_blank" href="https://github.com/TimKoenig96/coi-calculator/issues/new">create an issue</a>?<br>\n\t\t\tTo fix this, remove everything after the question mark and recreate the calculation.\n\t\t\t',t.ERROR),!1}}()})();