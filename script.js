(()=>{"use strict";const e=document.getElementById("notifs_container");var t;!function(e){e.DEFAULT="default",e.SUCCESS="success",e.WARNING="warning",e.ERROR="error"}(t||(t={}));class n{constructor(t,n,i,l=0){var s;this.timeout=null,this.element=document.createElement("div"),this.element.classList.add(i),this.element.innerHTML=`<h1>${t}</h1><p>${n}</p><br><a data-msg_close="" href="">Close message</a>`,this.element.lastChild&&(null===(s=this.element.querySelector("[data-msg_close]"))||void 0===s||s.addEventListener("click",this.removeNotif.bind(this))),l&&(this.timeout=window.setTimeout(this.removeNotif.bind(this),l)),null==e||e.appendChild(this.element)}removeNotif(e){null==e||e.preventDefault(),this.element.remove(),this.timeout&&window.clearTimeout(this.timeout)}}let i=!1,l=!1,s=!1;const o=document.getElementById("production_calculator_btn"),c=document.getElementById("power_calculator_btn"),d=document.getElementById("set_research_btn"),a=document.getElementById("set_recipes_btn"),r=document.getElementById("production_inputs_container"),u=(document.getElementById("production_input_list_container"),document.getElementById("add_production_input_btn")),m=document.getElementById("production_outputs_container"),h=(document.getElementById("production_output_list_container"),document.getElementById("add_production_output_btn")),p=document.getElementById("power_output_container"),g=document.getElementById("power_output_field"),_=document.getElementById("share_production_btn"),y=document.getElementById("share_power_btn"),v=document.getElementById("research_window"),E=document.getElementById("research_searchbox"),f=(document.getElementById("research_list"),document.getElementById("recipes_window")),L=document.getElementById("recipes_searchbox");function w(){null==o||o.classList.remove("active"),null==c||c.classList.add("active"),null==r||r.classList.add("hidden"),null==m||m.classList.add("hidden"),null==p||p.classList.remove("hidden"),null==_||_.classList.add("hidden"),null==y||y.classList.remove("hidden")}function I(){null==d||d.classList.toggle("active"),l&&b(),null==v||v.classList.toggle("hidden"),i=!i}function b(){null==a||a.classList.toggle("active"),i&&I(),null==f||f.classList.toggle("hidden"),l=!l}document.getElementById("recipes_list"),document.getElementById("production_calculator_canvas"),document.getElementById("power_calculator_canvas"),[[o,"click",function(){null==o||o.classList.add("active"),null==c||c.classList.remove("active"),null==r||r.classList.remove("hidden"),null==m||m.classList.remove("hidden"),null==p||p.classList.add("hidden"),null==_||_.classList.remove("hidden"),null==y||y.classList.add("hidden")}],[c,"click",w],[d,"click",I],[a,"click",b],[u,"click",function(){new n("Not implemented","This is not yet implemented, sorry.",t.DEFAULT,1e4)}],[h,"click",function(){new n("Not implemented","This is not yet implemented, sorry.",t.DEFAULT,1e4)}],[_,"click",function(){new n("Not implemented","This is not yet implemented, sorry.",t.DEFAULT,1e4)}],[y,"click",function(){new n("Not implemented","This is not yet implemented, sorry.",t.DEFAULT,1e4)}],[E,"input",function(){}],[L,"input",function(){}]].forEach((([e,i,l])=>{e?e.addEventListener(i,l):new n("Missing element",'An element on the page is missing.<br>If you\'re using any kind of blockers, try disabling them.<br>If this persists, please <a href="">create an issue here.</a>',t.ERROR)})),window.location.search&&function(){var e,i,l,s,o;let c,d,a,r;const u=new URLSearchParams(window.location.search),m="1"===u.get("pwr");try{c=JSON.parse(null!==(e=u.get("research"))&&void 0!==e?e:"{}"),d=JSON.parse(null!==(i=u.get("recipes"))&&void 0!==i?i:"{}"),a=JSON.parse(null!==(l=u.get("input"))&&void 0!==l?l:"{}"),r=JSON.parse(null!==(s=u.get("output"))&&void 0!==s?s:"{}")}catch(e){return new n("Invalid JSON",'\n\t\t\tThe JSON parameters (after the question mark in the URL) seem to be malformed.<br>\n\t\t\tIf you\'ve got some time, could you maybe <a target="_blank" href="https://github.com/TimKoenig96/coi-calculator/issues/new">create an issue</a>?<br>\n\t\t\tTo fix this, remove everything after the question mark and recreate the calculation.\n\t\t\t',t.ERROR),!1}m&&(w(),g&&(g.value=String(null!==(o=r.power)&&void 0!==o?o:"0")))}()})();