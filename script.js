(()=>{"use strict";var e={};let t;e.m={},e.u=e=>e+".script.js",e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(t=n.currentScript.src),!t)){var i=n.getElementsByTagName("script");if(i.length)for(var o=i.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=i[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.b=document.baseURI||self.location.href;let n=!1,i=!1;const o=document.getElementById("production_calculator_btn"),c=document.getElementById("power_calculator_btn"),s=document.getElementById("set_research_btn"),r=document.getElementById("set_recipes_btn"),a=document.getElementById("production_inputs_container"),d=(document.getElementById("production_input_list_container"),document.getElementById("add_production_input_btn")),l=document.getElementById("production_outputs_container"),u=(document.getElementById("production_output_list_container"),document.getElementById("add_production_output_btn")),m=document.getElementById("power_output_container"),h=document.getElementById("power_output_field"),p=document.getElementById("share_production_btn"),f=document.getElementById("share_power_btn"),g=document.getElementById("research_window"),_=document.getElementById("research_searchbox"),y=document.getElementById("recipes_window"),w=document.getElementById("recipes_searchbox"),v=(document.getElementById("production_calculator_canvas"),document.getElementById("power_calculator_canvas"),document.getElementById("notifs_container"));class b{#e=["default","success","warning","error"];constructor(e,t,n="default",i=0){this.element,this.timeout,this.#e.includes(n)||(n="default"),this.#t(e,t,n),i&&(this.timeout=setTimeout(this.#n.bind(this),i)),this.#i()}#t(e,t,n){this.element=document.createElement("div"),n&&this.element.classList.add(n),this.element.innerHTML=`<h1>${e}</h1><p>${t}</p><br><a href="">Close message</a>`,this.element.children[3].addEventListener("click",this.#n.bind(this))}#i(){v.prepend(this.element)}#n(e){e?.preventDefault(),this.element.remove(),clearTimeout(this.timeout)}}function E(e){}function L(){o.classList.remove("active"),c.classList.add("active"),a.classList.add("hidden"),l.classList.add("hidden"),m.classList.remove("hidden"),p.classList.add("hidden"),f.classList.remove("hidden")}function I(){s.classList.toggle("active"),i&&B(),g.classList.toggle("hidden"),n=!n}function B(){r.classList.toggle("active"),n&&I(),y.classList.toggle("hidden"),i=!i}new Set([[o,["click",function(){o.classList.add("active"),c.classList.remove("active"),a.classList.remove("hidden"),l.classList.remove("hidden"),m.classList.add("hidden"),p.classList.remove("hidden"),f.classList.add("hidden")}]],[c,["click",L]],[s,["click",I]],[r,["click",B]],[d,["click",function(){new b("TODO","This is not yet implemented, sorry.","default",1e4)}]],[u,["click",function(){new b("TODO","This is not yet implemented, sorry.","default",1e4)}]],[p,["click",function(){new b("TODO","This is not yet implemented, sorry.","default",1e4)}]],[f,["click",function(){new b("TODO","This is not yet implemented, sorry.","default",1e4)}]],[_,["input",function(){}]],[w,["input",function(){}]]]).forEach((([e,t])=>e.addEventListener(t[0],t[1]))),function(){if(t=new Worker(new URL(e.p+e.u(495),e.b),{type:void 0}),t.addEventListener("message",E),window.location.search)try{const[e,t,n,i]=function(){const e=new URLSearchParams(window.location.search),t=e.get("c");if(!["prod","pwr"].includes(t))throw["Invalid Calculator",'The selected calculator (after the question mark in the URL) is invalid.<br>Possible modes: "prd" and "pwr".'];let n,i,o;try{n=JSON.parse(e.get("research")??"[]"),i=JSON.parse(e.get("recipes")??"[]"),o=JSON.parse(e.get("data")??"{}")}catch(e){throw["Invalid JSON",'The JSON parameters (after the question mark in the URL) seem to be malformed.<br>If you\'ve got some time, could you maybe <a target="_blank" href="https://github.com/TimKoenig96/coi-calculator/issues/new">create an issue</a>?<br>To fix this, remove everything after the question mark and recreate the calculation.']}return[t,n,i,o]}();"pwr"===e&&(L(),h.value=Number(i.power_output??0))}catch(e){new b(e[0],e[1],"error")}}()})();