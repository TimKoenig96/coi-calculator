(()=>{"use strict";var e,E;!function(e){e[e.EXAMPLE_BUILDING_1=1]="EXAMPLE_BUILDING_1",e[e.EXAMPLE_BUILDING_2=2]="EXAMPLE_BUILDING_2",e[e.EXAMPLE_BUILDING_3=3]="EXAMPLE_BUILDING_3"}(e||(e={})),function(e){e.GENERAL_MACHINES="General Machines",e.WATER_EXTRACTION_AND_PROCESSING="Water Extraction & Processing",e.FOOD_PRODUCTION="Food Production",e.METALLURGY_AND_SMELTING="Metallurgy & Smelting",e.POWER_PRODUCTION="Power Production",e.CRUDE_OIL_REFINING="Crude Oil Refining",e.WASTE_MANAGEMENT="Waste Management",e.BUILDINGS="Buildings",e.HOUSING_AND_SERVICES="Housing & Services"}(E||(E={}));const t={[e.EXAMPLE_BUILDING_1]:{name:"Example Building 1",category:E.METALLURGY_AND_SMELTING,build_cost:{}},[e.EXAMPLE_BUILDING_2]:{name:"Example Building 2",category:E.FOOD_PRODUCTION,build_cost:{}},[e.EXAMPLE_BUILDING_3]:{name:"Example Building 3",category:E.CRUDE_OIL_REFINING,build_cost:{}}};class a{constructor({name:e,category:E,build_cost:t,workers:a=0,electricity:_=0,computing:I=0,maintenance_1:R=0,maintenance_2:A=0,maintenance_3:O=0,locked:n=!0}){this.name=e,this.category=E,this.build_cost=t,this.workers=a,this.electricity=_,this.computing=I,this.maintenance_1=R,this.maintenance_2=A,this.maintenance_3=O,this.locked=n}}const _=Object.fromEntries(Object.values(e).filter((e=>"number"==typeof e)).map((e=>[e,new a(t[e])])));var I,R,A;!function(e){e[e.COAL=0]="COAL",e[e.COPPER_ORE=1]="COPPER_ORE",e[e.DIRT=2]="DIRT",e[e.GOLD_ORE=3]="GOLD_ORE",e[e.IRON_ORE=4]="IRON_ORE",e[e.LIMESTONE=5]="LIMESTONE",e[e.QUARTZ=6]="QUARTZ",e[e.ROCK=7]="ROCK",e[e.SAND=8]="SAND",e[e.SEAWATER=9]="SEAWATER",e[e.SULFUR=10]="SULFUR",e[e.URANIUM_ORE=11]="URANIUM_ORE",e[e.WOOD=12]="WOOD",e[e.WATER=13]="WATER",e[e.ACID=100]="ACID",e[e.BRINE=101]="BRINE",e[e.BROKEN_GLASS=102]="BROKEN_GLASS",e[e.CEMENT=103]="CEMENT",e[e.CHILLED_WATER=104]="CHILLED_WATER",e[e.COPPER_ORE_CRUSHED=105]="COPPER_ORE_CRUSHED",e[e.COPPER_SCRAP=106]="COPPER_SCRAP",e[e.COPPER_SCRAP_PRESSED=107]="COPPER_SCRAP_PRESSED",e[e.GLASS_MIX=108]="GLASS_MIX",e[e.GOLD_ORE_CONCENTRATE=109]="GOLD_ORE_CONCENTRATE",e[e.GOLD_ORE_CRUSHED=110]="GOLD_ORE_CRUSHED",e[e.GOLD_ORE_POWDER=111]="GOLD_ORE_POWDER",e[e.GOLD_SCRAP=112]="GOLD_SCRAP",e[e.GOLD_SCRAP_PRESSED=113]="GOLD_SCRAP_PRESSED",e[e.GRAPHITE=114]="GRAPHITE",e[e.GRAVEL=115]="GRAVEL",e[e.IMPURE_COPPER=116]="IMPURE_COPPER",e[e.IRON_ORE_CRUSHED=117]="IRON_ORE_CRUSHED",e[e.IRON_SCRAP=118]="IRON_SCRAP",e[e.IRON_SCRAP_PRESSED=119]="IRON_SCRAP_PRESSED",e[e.MANUFACTURED_SAND=120]="MANUFACTURED_SAND",e[e.MOLTEN_COPPER=121]="MOLTEN_COPPER",e[e.MOLTEN_GLASS=122]="MOLTEN_GLASS",e[e.MOLTEN_IRON=123]="MOLTEN_IRON",e[e.MOLTEN_SILICON=124]="MOLTEN_SILICON",e[e.MOLTEN_STEEL=125]="MOLTEN_STEEL",e[e.QUARTZ_CRUSHED=126]="QUARTZ_CRUSHED",e[e.RECYCLABLES=127]="RECYCLABLES",e[e.RECYCLABLES_PRESSED=128]="RECYCLABLES_PRESSED",e[e.SALT=129]="SALT",e[e.SLAG_CRUSHED=130]="SLAG_CRUSHED",e[e.URANIUM_ORE_CRUSHED=131]="URANIUM_ORE_CRUSHED",e[e.WOODCHIPS=132]="WOODCHIPS",e[e.BRICKS=200]="BRICKS",e[e.CONCRETE_SLAB=201]="CONCRETE_SLAB",e[e.CONSTRUCTION_PARTS=202]="CONSTRUCTION_PARTS",e[e.CONSTRUCTION_PARTS_II=203]="CONSTRUCTION_PARTS_II",e[e.CONSTRUCTION_PARTS_III=204]="CONSTRUCTION_PARTS_III",e[e.CONSTRUCTION_PARTS_IV=205]="CONSTRUCTION_PARTS_IV",e[e.CONSUMER_ELECTRONICS=206]="CONSUMER_ELECTRONICS",e[e.COPPER=207]="COPPER",e[e.ELECTRONICS=208]="ELECTRONICS",e[e.ELECTRONICS_II=209]="ELECTRONICS_II",e[e.ELECTRONICS_III=210]="ELECTRONICS_III",e[e.FILTER_MEDIA=211]="FILTER_MEDIA",e[e.FLOWERS=212]="FLOWERS",e[e.GLASS=213]="GLASS",e[e.GOLD=214]="GOLD",e[e.HOUSEHOLD_APPLIANCES=215]="HOUSEHOLD_APPLIANCES",e[e.HOUSEHOLD_GOODS=216]="HOUSEHOLD_GOODS",e[e.IRON=217]="IRON",e[e.LAB_EQUIPMENT=218]="LAB_EQUIPMENT",e[e.LAB_EQUIPMENT_II=219]="LAB_EQUIPMENT_II",e[e.LAB_EQUIPMENT_III=220]="LAB_EQUIPMENT_III",e[e.LAB_EQUIPMENT_IV=221]="LAB_EQUIPMENT_IV",e[e.MAINTENANCE_I=222]="MAINTENANCE_I",e[e.MAINTENANCE_II=223]="MAINTENANCE_II",e[e.MAINTENANCE_III=224]="MAINTENANCE_III",e[e.MECHANICAL_PARTS=225]="MECHANICAL_PARTS",e[e.MICROCHIPS=226]="MICROCHIPS",e[e.MICROCHIPS_STAGE_1_A=227]="MICROCHIPS_STAGE_1_A",e[e.MICROCHIPS_STAGE_1_B=228]="MICROCHIPS_STAGE_1_B",e[e.MICROCHIPS_STAGE_1_C=229]="MICROCHIPS_STAGE_1_C",e[e.MICROCHIPS_STAGE_2_A=230]="MICROCHIPS_STAGE_2_A",e[e.MICROCHIPS_STAGE_2_B=231]="MICROCHIPS_STAGE_2_B",e[e.MICROCHIPS_STAGE_2_C=232]="MICROCHIPS_STAGE_2_C",e[e.MICROCHIPS_STAGE_3_A=233]="MICROCHIPS_STAGE_3_A",e[e.MICROCHIPS_STAGE_3_B=234]="MICROCHIPS_STAGE_3_B",e[e.MICROCHIPS_STAGE_3_C=235]="MICROCHIPS_STAGE_3_C",e[e.MICROCHIPS_STAGE_4_A=236]="MICROCHIPS_STAGE_4_A",e[e.MICROCHIPS_STAGE_4_B=237]="MICROCHIPS_STAGE_4_B",e[e.PAPER=238]="PAPER",e[e.PCB=239]="PCB",e[e.SERVER=240]="SERVER",e[e.SILICON_POLY=241]="SILICON_POLY",e[e.SILICON_WAFER=242]="SILICON_WAFER",e[e.SOLAR_CELL=243]="SOLAR_CELL",e[e.SOLAR_CELL_MONO=244]="SOLAR_CELL_MONO",e[e.STEEL=245]="STEEL",e[e.VEHICLE_PARTS=246]="VEHICLE_PARTS",e[e.VEHICLE_PARTS_II=247]="VEHICLE_PARTS_II",e[e.VEHICLE_PARTS_III=248]="VEHICLE_PARTS_III",e[e.ANESTHETICS=300]="ANESTHETICS",e[e.ANIMAL_FEED=301]="ANIMAL_FEED",e[e.ANTIBIOTICS=302]="ANTIBIOTICS",e[e.BREAD=303]="BREAD",e[e.CAKE=304]="CAKE",e[e.CANOLA=305]="CANOLA",e[e.CHICKEN_CARCASS=306]="CHICKEN_CARCASS",e[e.COMPOST=307]="COMPOST",e[e.COOKING_OIL=308]="COOKING_OIL",e[e.CORN_MASH=309]="CORN_MASH",e[e.CORN=310]="CORN",e[e.DISINFECTANT=311]="DISINFECTANT",e[e.EGGS=312]="EGGS",e[e.ETHANOL=313]="ETHANOL",e[e.FERTILITY=314]="FERTILITY",e[e.FERTILIZER_ORGANIC=315]="FERTILIZER_ORGANIC",e[e.FERTILIZER_I=316]="FERTILIZER_I",e[e.FERTILIZER_II=317]="FERTILIZER_II",e[e.FLOUR=318]="FLOUR",e[e.FOOD_PACK=319]="FOOD_PACK",e[e.FRUIT=320]="FRUIT",e[e.GREEN_MANURE=321]="GREEN_MANURE",e[e.MEAT_TRIMMINGS=322]="MEAT_TRIMMINGS",e[e.MEAT=323]="MEAT",e[e.MEDICAL_EQUIPMENT=324]="MEDICAL_EQUIPMENT",e[e.MEDICAL_SUPPLIES=325]="MEDICAL_SUPPLIES",e[e.MEDICAL_SUPPLIES_II=326]="MEDICAL_SUPPLIES_II",e[e.MEDICAL_SUPPLIES_III=327]="MEDICAL_SUPPLIES_III",e[e.MORPHINE=328]="MORPHINE",e[e.POPPY=329]="POPPY",e[e.POTATO=330]="POTATO",e[e.SAUSAGE=331]="SAUSAGE",e[e.SNACK=332]="SNACK",e[e.SOYBEAN=333]="SOYBEAN",e[e.SUGAR_CANE=334]="SUGAR_CANE",e[e.SUGAR=335]="SUGAR",e[e.TOFU=336]="TOFU",e[e.TREE_SAPLING=337]="TREE_SAPLING",e[e.VEGETABLES=338]="VEGETABLES",e[e.WHEAT=339]="WHEAT",e[e.CRUDE_OIL=400]="CRUDE_OIL",e[e.SOUR_WATER=401]="SOUR_WATER",e[e.HEAVY_OIL=402]="HEAVY_OIL",e[e.MEDIUM_OIL=403]="MEDIUM_OIL",e[e.DIESEL=404]="DIESEL",e[e.LIGHT_OIL=405]="LIGHT_OIL",e[e.FUEL_GAS=406]="FUEL_GAS",e[e.NAPHTHA=407]="NAPHTHA",e[e.AMMONIA=408]="AMMONIA",e[e.CHLORINE=409]="CHLORINE",e[e.HYDROGEN=410]="HYDROGEN",e[e.NITROGEN=411]="NITROGEN",e[e.OXYGEN=412]="OXYGEN",e[e.HYDROGEN_FLUORIDE=413]="HYDROGEN_FLUORIDE",e[e.PLASTIC=414]="PLASTIC",e[e.RUBBER=415]="RUBBER",e[e.ELECTRICITY=500]="ELECTRICITY",e[e.MECHANICAL_POWER=501]="MECHANICAL_POWER",e[e.HEAT=502]="HEAT",e[e.STEAM_SUPER=503]="STEAM_SUPER",e[e.STEAM_HIGH=504]="STEAM_HIGH",e[e.STEAM_LOW=505]="STEAM_LOW",e[e.STEAM_DEPLETED=506]="STEAM_DEPLETED",e[e.BLANKET_FUEL=507]="BLANKET_FUEL",e[e.BLANKET_FUEL_ENRICHED=508]="BLANKET_FUEL_ENRICHED",e[e.CORE_FUEL=509]="CORE_FUEL",e[e.CORE_FUEL_SPENT=510]="CORE_FUEL_SPENT",e[e.DEPLETED_URANIUM=511]="DEPLETED_URANIUM",e[e.ENRICHED_URANIUM_4=512]="ENRICHED_URANIUM_4",e[e.ENRICHED_URANIUM_20=513]="ENRICHED_URANIUM_20",e[e.FISSION_PRODUCT=514]="FISSION_PRODUCT",e[e.MOX_ROD=515]="MOX_ROD",e[e.PLUTONIUM=516]="PLUTONIUM",e[e.REPROCESSED_URANIUM_1=517]="REPROCESSED_URANIUM_1",e[e.RETIRED_WASTE=518]="RETIRED_WASTE",e[e.SPENT_FUEL=519]="SPENT_FUEL",e[e.SPENT_MOX=520]="SPENT_MOX",e[e.URANIUM_ROD=521]="URANIUM_ROD",e[e.YELLOW_CAKE=522]="YELLOW_CAKE",e[e.AIR_POLLUTION=600]="AIR_POLLUTION",e[e.BIOMASS=601]="BIOMASS",e[e.CARBON_DIOXIDE=602]="CARBON_DIOXIDE",e[e.EXHAUST=603]="EXHAUST",e[e.RADIATION=604]="RADIATION",e[e.SLAG=605]="SLAG",e[e.SLUDGE=606]="SLUDGE",e[e.TOXIC_SLURRY=607]="TOXIC_SLURRY",e[e.WASTE=608]="WASTE",e[e.WATER_POLLUTION=609]="WATER_POLLUTION",e[e.WASTE_PRESSED=610]="WASTE_PRESSED",e[e.WASTE_WATER=611]="WASTE_WATER"}(I||(I={})),function(e){e[e.NATURAL_RESOURCE=0]="NATURAL_RESOURCE",e[e.SEMI_PROCESSED_RESOURCE=1]="SEMI_PROCESSED_RESOURCE",e[e.CRAFTED_MATERIAL=2]="CRAFTED_MATERIAL",e[e.FOOD_AND_MEDICAL=3]="FOOD_AND_MEDICAL",e[e.PETROCHEMICAL=4]="PETROCHEMICAL",e[e.POWER_AND_NUCLEAR=5]="POWER_AND_NUCLEAR",e[e.WASTE_AND_POLLUTION=6]="WASTE_AND_POLLUTION"}(R||(R={})),function(e){e[e.LOOSE=0]="LOOSE",e[e.UNIT=1]="UNIT",e[e.FLUID=2]="FLUID",e[e.MOLTEN=3]="MOLTEN",e[e.MECHANICAL=4]="MECHANICAL",e[e.VIRTUAL=5]="VIRTUAL"}(A||(A={}));const O={[I.COAL]:{name:"Coal",category:R.NATURAL_RESOURCE,state:A.LOOSE},[I.COPPER_ORE]:{name:"Copper Ore",category:R.NATURAL_RESOURCE,state:A.LOOSE},[I.DIRT]:{name:"Dirt",category:R.NATURAL_RESOURCE,state:A.LOOSE},[I.GOLD_ORE]:{name:"Gold Ore",category:R.NATURAL_RESOURCE,state:A.LOOSE},[I.IRON_ORE]:{name:"Iron Ore",category:R.NATURAL_RESOURCE,state:A.LOOSE},[I.LIMESTONE]:{name:"Limestone",category:R.NATURAL_RESOURCE,state:A.LOOSE},[I.QUARTZ]:{name:"Quartz",category:R.NATURAL_RESOURCE,state:A.LOOSE},[I.ROCK]:{name:"Rock",category:R.NATURAL_RESOURCE,state:A.LOOSE},[I.SAND]:{name:"Sand",category:R.NATURAL_RESOURCE,state:A.LOOSE},[I.SEAWATER]:{name:"Seawater",category:R.NATURAL_RESOURCE,state:A.FLUID},[I.SULFUR]:{name:"Sulfur",category:R.NATURAL_RESOURCE,state:A.LOOSE},[I.URANIUM_ORE]:{name:"Uranium Ore",category:R.NATURAL_RESOURCE,state:A.LOOSE},[I.WOOD]:{name:"Wood",category:R.NATURAL_RESOURCE,state:A.UNIT},[I.WATER]:{name:"Water",category:R.NATURAL_RESOURCE,state:A.FLUID},[I.ACID]:{name:"Acid",category:R.SEMI_PROCESSED_RESOURCE,state:A.FLUID},[I.BRINE]:{name:"Brine",category:R.SEMI_PROCESSED_RESOURCE,state:A.FLUID},[I.BROKEN_GLASS]:{name:"Broken Glass",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.CEMENT]:{name:"Cement",category:R.SEMI_PROCESSED_RESOURCE,state:A.UNIT},[I.CHILLED_WATER]:{name:"Chilled Water",category:R.SEMI_PROCESSED_RESOURCE,state:A.FLUID},[I.COPPER_ORE_CRUSHED]:{name:"Copper Ore Crushed",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.COPPER_SCRAP]:{name:"Copper Scrap",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.COPPER_SCRAP_PRESSED]:{name:"Copper Scrap Pressed",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.GLASS_MIX]:{name:"Glass Mix",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.GOLD_ORE_CONCENTRATE]:{name:"Gold Ore Concentrate",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.GOLD_ORE_CRUSHED]:{name:"Gold Ore Crushed",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.GOLD_ORE_POWDER]:{name:"Gold Ore Powder",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.GOLD_SCRAP]:{name:"Gold Scrap",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.GOLD_SCRAP_PRESSED]:{name:"Gold Scrap Pressed",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.GRAPHITE]:{name:"Graphite",category:R.SEMI_PROCESSED_RESOURCE,state:A.UNIT},[I.GRAVEL]:{name:"Gravel",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.IMPURE_COPPER]:{name:"Impure Copper",category:R.SEMI_PROCESSED_RESOURCE,state:A.UNIT},[I.IRON_ORE_CRUSHED]:{name:"Iron Ore Crushed",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.IRON_SCRAP]:{name:"Iron Scrap",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.IRON_SCRAP_PRESSED]:{name:"Iron Scrap Pressed",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.MANUFACTURED_SAND]:{name:"Manufactured Sand",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.MOLTEN_COPPER]:{name:"Molten Copper",category:R.SEMI_PROCESSED_RESOURCE,state:A.MOLTEN},[I.MOLTEN_GLASS]:{name:"Molten Glass",category:R.SEMI_PROCESSED_RESOURCE,state:A.MOLTEN},[I.MOLTEN_IRON]:{name:"Molten Iron",category:R.SEMI_PROCESSED_RESOURCE,state:A.MOLTEN},[I.MOLTEN_SILICON]:{name:"Molten Silicon",category:R.SEMI_PROCESSED_RESOURCE,state:A.MOLTEN},[I.MOLTEN_STEEL]:{name:"Molten Steel",category:R.SEMI_PROCESSED_RESOURCE,state:A.MOLTEN},[I.QUARTZ_CRUSHED]:{name:"Quartz Crushed",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.RECYCLABLES]:{name:"Recyclables",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.RECYCLABLES_PRESSED]:{name:"Recyclables Pressed",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.SALT]:{name:"Salt",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.SLAG_CRUSHED]:{name:"Slag Crushed",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.URANIUM_ORE_CRUSHED]:{name:"Uranium Ore Crushed",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.WOODCHIPS]:{name:"Woodchips",category:R.SEMI_PROCESSED_RESOURCE,state:A.LOOSE},[I.BRICKS]:{name:"Bricks",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.CONCRETE_SLAB]:{name:"Concrete Slab",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.CONSTRUCTION_PARTS]:{name:"Construction Parts",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.CONSTRUCTION_PARTS_II]:{name:"Construction Parts II",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.CONSTRUCTION_PARTS_III]:{name:"Construction Parts III",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.CONSTRUCTION_PARTS_IV]:{name:"Construction Parts IV",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.CONSUMER_ELECTRONICS]:{name:"Consumer Electronics",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.COPPER]:{name:"Copper",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.ELECTRONICS]:{name:"Electronics",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.ELECTRONICS_II]:{name:"Electronics II",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.ELECTRONICS_III]:{name:"Electronics III",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.FILTER_MEDIA]:{name:"Filter Media",category:R.CRAFTED_MATERIAL,state:A.LOOSE},[I.FLOWERS]:{name:"Flowers",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.GLASS]:{name:"Glass",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.GOLD]:{name:"Gold",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.HOUSEHOLD_APPLIANCES]:{name:"Household Appliances",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.HOUSEHOLD_GOODS]:{name:"Household Goods",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.IRON]:{name:"Iron",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.LAB_EQUIPMENT]:{name:"Lab Equipment",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.LAB_EQUIPMENT_II]:{name:"Lab Equipment II",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.LAB_EQUIPMENT_III]:{name:"Lab Equipment III",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.LAB_EQUIPMENT_IV]:{name:"Lab Equipment IV",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.MAINTENANCE_I]:{name:"Maintenance I",category:R.CRAFTED_MATERIAL,state:A.VIRTUAL},[I.MAINTENANCE_II]:{name:"Maintenance II",category:R.CRAFTED_MATERIAL,state:A.VIRTUAL},[I.MAINTENANCE_III]:{name:"Maintenance III",category:R.CRAFTED_MATERIAL,state:A.VIRTUAL},[I.MECHANICAL_PARTS]:{name:"Mechanical Parts",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.MICROCHIPS]:{name:"Microchips",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.MICROCHIPS_STAGE_1_A]:{name:"Microchips Stage 1 A",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.MICROCHIPS_STAGE_1_B]:{name:"Microchips Stage 1 B",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.MICROCHIPS_STAGE_1_C]:{name:"Microchips Stage 1 C",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.MICROCHIPS_STAGE_2_A]:{name:"Microchips Stage 2 A",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.MICROCHIPS_STAGE_2_B]:{name:"Microchips Stage 2 B",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.MICROCHIPS_STAGE_2_C]:{name:"Microchips Stage 2 C",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.MICROCHIPS_STAGE_3_A]:{name:"Microchips Stage 3 A",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.MICROCHIPS_STAGE_3_B]:{name:"Microchips Stage 3 B",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.MICROCHIPS_STAGE_3_C]:{name:"Microchips Stage 3 C",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.MICROCHIPS_STAGE_4_A]:{name:"Microchips Stage 4 A",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.MICROCHIPS_STAGE_4_B]:{name:"Microchips Stage 4 B",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.PAPER]:{name:"Paper",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.PCB]:{name:"PCB",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.SERVER]:{name:"Server",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.SILICON_POLY]:{name:"Silicon (Poly)",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.SILICON_WAFER]:{name:"Silicon Wafer",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.SOLAR_CELL]:{name:"Solar Cell",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.SOLAR_CELL_MONO]:{name:"Solar Cell Mono",category:R.CRAFTED_MATERIAL,state:A.LOOSE},[I.STEEL]:{name:"Steel",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.VEHICLE_PARTS]:{name:"Vehicle Parts",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.VEHICLE_PARTS_II]:{name:"Vehicle Parts II",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.VEHICLE_PARTS_III]:{name:"Vehicle Parts III",category:R.CRAFTED_MATERIAL,state:A.UNIT},[I.ANESTHETICS]:{name:"Anesthetics",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.ANIMAL_FEED]:{name:"Animal Feed",category:R.FOOD_AND_MEDICAL,state:A.LOOSE},[I.ANTIBIOTICS]:{name:"Antibiotics",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.BREAD]:{name:"Bread",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.CAKE]:{name:"Cake",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.CANOLA]:{name:"Canola",category:R.FOOD_AND_MEDICAL,state:A.LOOSE},[I.CHICKEN_CARCASS]:{name:"Chicken Carcass",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.COMPOST]:{name:"Compost",category:R.FOOD_AND_MEDICAL,state:A.LOOSE},[I.COOKING_OIL]:{name:"Cooking Oil",category:R.FOOD_AND_MEDICAL,state:A.FLUID},[I.CORN_MASH]:{name:"Corn Mash",category:R.FOOD_AND_MEDICAL,state:A.FLUID},[I.CORN]:{name:"Corn",category:R.FOOD_AND_MEDICAL,state:A.LOOSE},[I.DISINFECTANT]:{name:"Disinfectant",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.EGGS]:{name:"Eggs",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.ETHANOL]:{name:"Ethanol",category:R.FOOD_AND_MEDICAL,state:A.FLUID},[I.FERTILITY]:{name:"Fertility",category:R.FOOD_AND_MEDICAL,state:A.FLUID},[I.FERTILIZER_ORGANIC]:{name:"Fertilizer (Organic)",category:R.FOOD_AND_MEDICAL,state:A.FLUID},[I.FERTILIZER_I]:{name:"Fertilizer I",category:R.FOOD_AND_MEDICAL,state:A.FLUID},[I.FERTILIZER_II]:{name:"Fertilizer II",category:R.FOOD_AND_MEDICAL,state:A.FLUID},[I.FLOUR]:{name:"Flour",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.FOOD_PACK]:{name:"Food Pack",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.FRUIT]:{name:"Fruit",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.GREEN_MANURE]:{name:"Green Manure",category:R.FOOD_AND_MEDICAL,state:A.VIRTUAL},[I.MEAT_TRIMMINGS]:{name:"Meat Trimmings",category:R.FOOD_AND_MEDICAL,state:A.LOOSE},[I.MEAT]:{name:"Meat",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.MEDICAL_EQUIPMENT]:{name:"Medical Equipment",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.MEDICAL_SUPPLIES]:{name:"Medical Supplies",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.MEDICAL_SUPPLIES_II]:{name:"Medical Supplies II",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.MEDICAL_SUPPLIES_III]:{name:"Medical Supplies III",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.MORPHINE]:{name:"Morphine",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.POPPY]:{name:"Poppy",category:R.FOOD_AND_MEDICAL,state:A.LOOSE},[I.POTATO]:{name:"Potato",category:R.FOOD_AND_MEDICAL,state:A.LOOSE},[I.SAUSAGE]:{name:"Sausage",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.SNACK]:{name:"Snack",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.SOYBEAN]:{name:"Soybean",category:R.FOOD_AND_MEDICAL,state:A.LOOSE},[I.SUGAR_CANE]:{name:"Sugar Cane",category:R.FOOD_AND_MEDICAL,state:A.LOOSE},[I.SUGAR]:{name:"Sugar",category:R.FOOD_AND_MEDICAL,state:A.LOOSE},[I.TOFU]:{name:"Tofu",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.TREE_SAPLING]:{name:"Tree Sapling",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.VEGETABLES]:{name:"Vegetables",category:R.FOOD_AND_MEDICAL,state:A.UNIT},[I.WHEAT]:{name:"Wheat",category:R.FOOD_AND_MEDICAL,state:A.LOOSE},[I.CRUDE_OIL]:{name:"Crude Oil",category:R.PETROCHEMICAL,state:A.FLUID},[I.SOUR_WATER]:{name:"Sour Water",category:R.PETROCHEMICAL,state:A.FLUID},[I.HEAVY_OIL]:{name:"Heavy Oil",category:R.PETROCHEMICAL,state:A.FLUID},[I.MEDIUM_OIL]:{name:"Medium Oil",category:R.PETROCHEMICAL,state:A.FLUID},[I.DIESEL]:{name:"Diesel",category:R.PETROCHEMICAL,state:A.FLUID},[I.LIGHT_OIL]:{name:"Light Oil",category:R.PETROCHEMICAL,state:A.FLUID},[I.FUEL_GAS]:{name:"Fuel Gas",category:R.PETROCHEMICAL,state:A.FLUID},[I.NAPHTHA]:{name:"Naphtha",category:R.PETROCHEMICAL,state:A.FLUID},[I.AMMONIA]:{name:"Ammonia",category:R.PETROCHEMICAL,state:A.FLUID},[I.CHLORINE]:{name:"Chlorine",category:R.PETROCHEMICAL,state:A.FLUID},[I.HYDROGEN]:{name:"Hydrogen",category:R.PETROCHEMICAL,state:A.FLUID},[I.NITROGEN]:{name:"Nitrogen",category:R.PETROCHEMICAL,state:A.FLUID},[I.OXYGEN]:{name:"Oxygen",category:R.PETROCHEMICAL,state:A.FLUID},[I.HYDROGEN_FLUORIDE]:{name:"Hydrogen Fluoride",category:R.PETROCHEMICAL,state:A.FLUID},[I.PLASTIC]:{name:"Plastic",category:R.PETROCHEMICAL,state:A.UNIT},[I.RUBBER]:{name:"Rubber",category:R.PETROCHEMICAL,state:A.UNIT},[I.ELECTRICITY]:{name:"Electricity",category:R.POWER_AND_NUCLEAR,state:A.VIRTUAL},[I.MECHANICAL_POWER]:{name:"Mechanical Power",category:R.POWER_AND_NUCLEAR,state:A.MECHANICAL},[I.HEAT]:{name:"Heat",category:R.POWER_AND_NUCLEAR,state:A.VIRTUAL},[I.STEAM_SUPER]:{name:"Steam (Super)",category:R.POWER_AND_NUCLEAR,state:A.FLUID},[I.STEAM_HIGH]:{name:"Steam (High)",category:R.POWER_AND_NUCLEAR,state:A.FLUID},[I.STEAM_LOW]:{name:"Steam (Low)",category:R.POWER_AND_NUCLEAR,state:A.FLUID},[I.STEAM_DEPLETED]:{name:"Steam Depleted",category:R.POWER_AND_NUCLEAR,state:A.FLUID},[I.BLANKET_FUEL]:{name:"Blanket Fuel",category:R.POWER_AND_NUCLEAR,state:A.FLUID},[I.BLANKET_FUEL_ENRICHED]:{name:"Blanket Fuel (Enriched)",category:R.POWER_AND_NUCLEAR,state:A.FLUID},[I.CORE_FUEL]:{name:"Core Fuel",category:R.POWER_AND_NUCLEAR,state:A.FLUID},[I.CORE_FUEL_SPENT]:{name:"Core Fuel (Spent)",category:R.POWER_AND_NUCLEAR,state:A.FLUID},[I.DEPLETED_URANIUM]:{name:"Depleted Uranium",category:R.POWER_AND_NUCLEAR,state:A.LOOSE},[I.ENRICHED_URANIUM_4]:{name:"Enriched Uranium (4%)",category:R.POWER_AND_NUCLEAR,state:A.UNIT},[I.ENRICHED_URANIUM_20]:{name:"Enriched Uranium (20%)",category:R.POWER_AND_NUCLEAR,state:A.UNIT},[I.FISSION_PRODUCT]:{name:"Fission Product",category:R.POWER_AND_NUCLEAR,state:A.UNIT},[I.MOX_ROD]:{name:"MOX Rod",category:R.POWER_AND_NUCLEAR,state:A.UNIT},[I.PLUTONIUM]:{name:"Plutonium",category:R.POWER_AND_NUCLEAR,state:A.UNIT},[I.REPROCESSED_URANIUM_1]:{name:"Reprocessed Uranium (1%)",category:R.POWER_AND_NUCLEAR,state:A.UNIT},[I.RETIRED_WASTE]:{name:"Retired Waste",category:R.POWER_AND_NUCLEAR,state:A.UNIT},[I.SPENT_FUEL]:{name:"Spent Fuel",category:R.POWER_AND_NUCLEAR,state:A.UNIT},[I.SPENT_MOX]:{name:"Spent MOX",category:R.POWER_AND_NUCLEAR,state:A.UNIT},[I.URANIUM_ROD]:{name:"Uranium Rod",category:R.POWER_AND_NUCLEAR,state:A.UNIT},[I.YELLOW_CAKE]:{name:"Yellow Cake",category:R.POWER_AND_NUCLEAR,state:A.LOOSE},[I.AIR_POLLUTION]:{name:"Air Pollution",category:R.WASTE_AND_POLLUTION,state:A.VIRTUAL},[I.BIOMASS]:{name:"Biomass",category:R.WASTE_AND_POLLUTION,state:A.LOOSE},[I.CARBON_DIOXIDE]:{name:"Carbon Dioxide",category:R.WASTE_AND_POLLUTION,state:A.FLUID},[I.EXHAUST]:{name:"Exhaust",category:R.WASTE_AND_POLLUTION,state:A.FLUID},[I.RADIATION]:{name:"Radiation",category:R.WASTE_AND_POLLUTION,state:A.VIRTUAL},[I.SLAG]:{name:"Slag",category:R.WASTE_AND_POLLUTION,state:A.LOOSE},[I.SLUDGE]:{name:"Sludge",category:R.WASTE_AND_POLLUTION,state:A.LOOSE},[I.TOXIC_SLURRY]:{name:"Toxic Slurry",category:R.WASTE_AND_POLLUTION,state:A.FLUID},[I.WASTE]:{name:"Waste",category:R.WASTE_AND_POLLUTION,state:A.LOOSE},[I.WATER_POLLUTION]:{name:"Water Pollution",category:R.WASTE_AND_POLLUTION,state:A.VIRTUAL},[I.WASTE_PRESSED]:{name:"Waste Pressed",category:R.WASTE_AND_POLLUTION,state:A.LOOSE},[I.WASTE_WATER]:{name:"Waste Water",category:R.WASTE_AND_POLLUTION,state:A.FLUID}};class n{constructor({name:e,category:E,state:t}){this.name=e,this.category=E,this.state=t}}const S=Object.fromEntries(Object.values(I).filter((e=>"number"==typeof e)).map((e=>[e,new n(O[e])])));var s;!function(e){e[e.EXAMPLE_RECIPE_1=1]="EXAMPLE_RECIPE_1",e[e.EXAMPLE_RECIPE_2=2]="EXAMPLE_RECIPE_2",e[e.EXAMPLE_RECIPE_3=3]="EXAMPLE_RECIPE_3"}(s||(s={}));const C={[s.EXAMPLE_RECIPE_1]:{produced_in:e.EXAMPLE_BUILDING_1,time:30},[s.EXAMPLE_RECIPE_2]:{produced_in:e.EXAMPLE_BUILDING_2,time:20},[s.EXAMPLE_RECIPE_3]:{produced_in:e.EXAMPLE_BUILDING_3,time:10}};class L{constructor({produced_in:e,time:E,input:t={},output:a={},locked:_=!0,active:I=!0}){this.produced_in=e,this.time=E,this.input=t,this.output=a,this.locked=_,this.active=I,this.button=this.createRecipeButton()}deactivate(){this.active&&(this.active=!1,this.button.classList.replace("active","inactive"))}activate(){this.active||(this.active=!0,this.button.classList.replace("inactive","active"))}lock(){this.locked||(this.locked=!0,this.button.classList.add("hidden"))}unlock(){this.locked&&(this.locked=!1,this.button.classList.remove("hidden"))}toggleRecipeActive(){this.active?this.deactivate():this.activate()}static initRecipesWindow(){const e=document.getElementById("recipes_container");for(const t of Object.values(E)){const E=document.createElement("div"),a=document.createElement("h1"),_=document.createElement("hr"),I=document.createElement("div");E.classList.add("recipes_lists_container"),a.textContent=t,I.classList.add("flex_row","flex_allow_wrap"),E.appendChild(a),E.appendChild(_),E.appendChild(I),e.appendChild(E),L.recipes_level_containers.set(t,E),L.recipes_lists.set(t,I)}}createRecipeButton(){var e;const E=document.createElement("div"),t=document.createElement("div"),a=document.createElement("div"),I=document.createElement("span"),R=document.createElement("div"),A=document.createElement("div");return E.classList.add("button","recipe","flex","flex_row",this.active?"active":"inactive"),this.locked&&E.classList.add("hidden"),t.classList.add("flex","flex_row"),a.classList.add("flex","flex_col"),A.classList.add("flex","flex_row"),Object.entries(this.input).forEach((([e,E])=>{const a=Number(e),_=S[a].name,I=document.createElement("div"),R=document.createElement("div"),A=document.createElement("span");I.classList.add("flex","flex_col"),R.classList.add("sprite"),R.textContent="[sprite]",A.classList.add("sprite_label"),A.textContent=E+"x "+_,I.appendChild(R),I.appendChild(A),t.appendChild(I)})),I.textContent=this.time+"s",I.classList.add("sprite_label"),R.textContent="[sprite]",R.classList.add("sprite"),a.appendChild(I),a.appendChild(R),Object.entries(this.output).forEach((([e,E])=>{const t=Number(e),a=S[t].name,_=document.createElement("div"),I=document.createElement("div"),R=document.createElement("span");_.classList.add("flex","flex_col"),I.classList.add("sprite"),I.textContent="[sprite]",R.classList.add("sprite_label"),R.textContent=E+"x "+a,_.appendChild(I),_.appendChild(R),A.appendChild(_)})),E.appendChild(t),E.appendChild(a),E.appendChild(A),E.addEventListener("click",this.toggleRecipeActive.bind(this)),null===(e=L.recipes_lists.get(_[this.produced_in].category))||void 0===e||e.appendChild(E),E}}L.recipes_level_containers=new Map,L.recipes_lists=new Map,L.initRecipesWindow();const c=Object.fromEntries(Object.values(s).filter((e=>"number"==typeof e)).map((e=>[e,new L(C[e])])));var o,r;!function(e){e[e.EXAMPLE_RESEARCH_1=1]="EXAMPLE_RESEARCH_1",e[e.EXAMPLE_RESEARCH_2=2]="EXAMPLE_RESEARCH_2",e[e.EXAMPLE_RESEARCH_3=3]="EXAMPLE_RESEARCH_3"}(o||(o={})),function(e){e.RESEARCH_1="Research I",e.RESEARCH_2="Research II",e.RESEARCH_3="Research III",e.RESEARCH_4="Research IV",e.RESEARCH_5="Research V"}(r||(r={}));const i={[o.EXAMPLE_RESEARCH_1]:{name:"Example Research 1",level:r.RESEARCH_1,recipes:[s.EXAMPLE_RECIPE_1],locked:!1},[o.EXAMPLE_RESEARCH_2]:{name:"Example Research 2",level:r.RESEARCH_2,dependencies:[o.EXAMPLE_RESEARCH_1],recipes:[s.EXAMPLE_RECIPE_2]},[o.EXAMPLE_RESEARCH_3]:{name:"Example Research 3",level:r.RESEARCH_3,dependencies:[o.EXAMPLE_RESEARCH_2],recipes:[s.EXAMPLE_RECIPE_3]}};class T{constructor({name:e,level:E,dependencies:t=[],buildings:a=[],recipes:_=[],locked:I=!0}){this.dependants=[],this.locked=!0,this.name=e,this.level=E,this.dependencies=t,this.buildings=a,this.recipes=_,this.button=this.createResearchButton(),I||this.unlock()}unlock(){this.locked&&(this.dependencies.forEach((e=>{D[e].unlock()})),this.locked=!1,this.buildings.forEach((e=>{_[e].locked=!1})),this.recipes.forEach((e=>{c[e].unlock()})),this.button.classList.replace("inactive","active"))}lock(){this.locked||(this.dependants.forEach((e=>{D[e].lock()})),this.locked=!0,this.buildings.forEach((e=>{_[e].locked=!0})),this.recipes.forEach((e=>{c[e].lock()})),this.button.classList.replace("active","inactive"))}toggleResearch(){this.locked?this.unlock():this.lock()}static initResearchesWindow(){const e=document.getElementById("researches_container");for(const E of Object.values(r)){const t=document.createElement("div"),a=document.createElement("h1"),_=document.createElement("hr"),I=document.createElement("div");t.classList.add("researches_lists_container"),a.textContent=E,I.classList.add("flex_row","flex_allow_wrap"),t.appendChild(a),t.appendChild(_),t.appendChild(I),e.appendChild(t),T.researches_level_containers.set(E,t),T.researches_lists.set(E,I)}}createResearchButton(){var e;const E=document.createElement("div");return E.textContent=this.name,E.classList.add("button",this.locked?"inactive":"active"),E.addEventListener("click",this.toggleResearch.bind(this)),null===(e=T.researches_lists.get(this.level))||void 0===e||e.appendChild(E),E}}T.researches_level_containers=new Map,T.researches_lists=new Map,T.initResearchesWindow();const N=new Map,D=Object.fromEntries(Object.values(o).filter((e=>"number"==typeof e)).map((e=>{var E;return null===(E=i[e].dependencies)||void 0===E||E.forEach((E=>{N.set(e,E)})),[e,new T(i[e])]})));var U;N.forEach(((e,E)=>{D[e].dependants.push(E)})),function(e){e.DEFAULT="default",e.SUCCESS="success",e.WARNING="warning",e.ERROR="error"}(U||(U={}));class M{constructor(e,E,t=U.DEFAULT,a=0,_=!0){this.heading=e,this.message=E,this.style=t,this.notification=this.createNotification(),this.button_container=this.createButtonContainer(),_&&this.createCloseButton(),M.container.appendChild(this.notification),a>0&&(this.timeout=window.setTimeout(this.closeNotification.bind(this),a))}createNotification(){const e=document.createElement("div");e.classList.add(this.style);const E=document.createElement("h1");E.textContent=this.heading,e.appendChild(E);const t=document.createElement("p");return t.innerHTML=this.message,e.appendChild(t),e}createButtonContainer(){const e=document.createElement("div");return e.classList.add("flex_row"),this.notification.appendChild(e),e}createCloseButton(){const e=document.createElement("div");e.textContent="Close",e.classList.add("button"),e.addEventListener("click",this.closeNotification.bind(this)),this.button_container.appendChild(e)}closeNotification(){this.notification.remove(),this.timeout&&window.clearTimeout(this.timeout)}}M.container=document.getElementById("notifs_container");class P extends M{constructor(e,E,t=U.DEFAULT,a){super(e,E,t,0,!1),this.buttons=a}setupPromptButtons(e){this.buttons.forEach((E=>{const t=document.createElement("div");t.textContent=E.label,t.classList.add("button"),t.addEventListener("click",this.closeNotification.bind(this)),t.addEventListener("click",(()=>e(E.retval))),this.button_container.appendChild(t)}))}prompt(){return new Promise((e=>{this.setupPromptButtons(e)}))}}var l=function(e,E,t,a){return new(t||(t=Promise))((function(_,I){function R(e){try{O(a.next(e))}catch(e){I(e)}}function A(e){try{O(a.throw(e))}catch(e){I(e)}}function O(e){var E;e.done?_(e.value):(E=e.value,E instanceof t?E:new t((function(e){e(E)}))).then(R,A)}O((a=a.apply(e,E||[])).next())}))};let m=!1,d=!1,g=!1;const u=document.getElementById("set_researches_btn"),h=document.getElementById("set_recipes_btn"),y=document.getElementById("researches_window"),p=document.getElementById("recipes_window");var F;function H(){y.classList.toggle("hidden"),u.classList.toggle("active"),g&&G(),d=!d}function G(){p.classList.toggle("hidden"),h.classList.toggle("active"),d&&H(),g=!g}function B(e){return l(this,void 0,void 0,(function*(){let E,t;E=e?function(){const e=new URLSearchParams(window.location.search);return{research:e.get("research"),recipes:e.get("recipes"),inputs:e.get("inputs"),outputs:e.get("outputs")}}():{research:window.localStorage.getItem("research"),recipes:window.localStorage.getItem("recipes"),inputs:window.localStorage.getItem("inputs"),outputs:window.localStorage.getItem("outputs")};try{t=function(e){var E,t,a,_;try{const I=JSON.parse(null!==(E=e.research)&&void 0!==E?E:"[]"),R=JSON.parse(null!==(t=e.recipes)&&void 0!==t?t:"[]"),A=JSON.parse(null!==(a=e.inputs)&&void 0!==a?a:"[]"),O=JSON.parse(null!==(_=e.outputs)&&void 0!==_?_:"[]");return[I,R,A,O].forEach((e=>{if(!Array.isArray(e))throw new Error("One of the parameters isn't an array.");e.forEach(((e,E,t)=>{if("number"!=typeof e&&(t[E]=Number(e),isNaN(t[E])))throw new Error("One of the arrays contains something other than a number.")}))})),{research:I,recipes:R,inputs:A,outputs:O}}catch(e){throw e}}(E)}catch(E){let t="Unknown Error",a="";if(E instanceof SyntaxError?(t=F.MALFORMED_JSON_HEADER,a=e?F.MALFORMED_JSON_MESSAGE_URL+F.ERROR_FIX_MESSAGE_URL:F.MALFORMED_JSON_MESSAGE_LOCALSTORAGE+F.ERROR_FIX_MESSAGE_LOCALSTORAGE):E instanceof Error&&(t=F.INVALID_DATA_HEADER,a=E.message+(e?F.ERROR_FIX_MESSAGE_URL:F.ERROR_FIX_MESSAGE_LOCALSTORAGE)),!(yield new P(t,a,U.ERROR,[{label:"Yes",retval:!0},{label:"No",retval:!1}]).prompt()))throw new M("Successfully Aborted","Initialization was successfully aborted.",void 0,void 0,!1),"";if(e){const e=new URL(window.location.href);e.search="",history.pushState(null,"",e.toString())}else window.localStorage.clear(),window.location.reload();return!1}return function(e){e.research.forEach((e=>{e in o?D[e].toggleResearch():new M("Unknown Research ID",`The research ID ${e} is unknown and could not be enabled.`,U.WARNING)})),e.recipes.forEach((e=>{e in s?c[e].active=!1:new M("Unknown Recipe ID",`The recipe ID ${e} is unknown and could not be disabled.`,U.WARNING)}))}(t),!0}))}!function(e){e.MALFORMED_JSON_HEADER="Malformed JSON",e.INVALID_DATA_HEADER="Invalid Data",e.MALFORMED_JSON_MESSAGE_URL="The JSON provided by the search parameters in the URL seems to be malformed.",e.MALFORMED_JSON_MESSAGE_LOCALSTORAGE="The JSON loaded from your browsers local storage seems to be malformed.",e.ERROR_FIX_MESSAGE_URL="<br><br>Do you want to continue anyways, loading your usual settings, losing the current calculation in the process?",e.ERROR_FIX_MESSAGE_LOCALSTORAGE="<br><br>Do you want clear it and try again? This means losing your selected research and recipes."}(F||(F={})),function(){l(this,void 0,void 0,(function*(){if(window.location.search)try{m=yield B(!0)}catch(e){return}if(!m)try{yield B(!1)}catch(e){return}[[u,"click",H],[h,"click",G]].forEach((([e,E,t])=>{e.addEventListener(E,t)})),u.click()}))}()})();