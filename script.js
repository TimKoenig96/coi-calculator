(()=>{"use strict";var e;!function(e){e.DEFAULT="default",e.SUCCESS="success",e.WARNING="warning",e.ERROR="error"}(e||(e={}));class t{constructor(e,n,i,o=0){var s,l;this.timeout=null,this.element=document.createElement("div"),this.element.classList.add(i),this.element.innerHTML=`<h1>${e}</h1><p>${n}</p><br><a data-msg_close="" href="">Close message</a>`,this.element.lastChild&&(null===(s=this.element.querySelector("[data-msg_close]"))||void 0===s||s.addEventListener("click",this.removeNotif.bind(this))),o&&(this.timeout=window.setTimeout(this.removeNotif.bind(this),o)),null===(l=t.notifs_container)||void 0===l||l.appendChild(this.element)}removeNotif(e){null==e||e.preventDefault(),this.element.remove(),this.timeout&&window.clearTimeout(this.timeout)}}t.notifs_container=document.getElementById("notifs_container");let n=!1,i=!1,o=!1;const s=document.getElementById("production_calculator_btn"),l=document.getElementById("power_calculator_btn"),c=document.getElementById("set_research_btn"),d=document.getElementById("set_recipes_btn"),r=document.getElementById("production_inputs_container"),a=(document.getElementById("production_input_list_container"),document.getElementById("add_production_input_btn")),u=document.getElementById("production_outputs_container"),m=(document.getElementById("production_output_list_container"),document.getElementById("add_production_output_btn")),h=document.getElementById("power_output_container"),p=(document.getElementById("power_output_field"),document.getElementById("share_production_btn")),g=document.getElementById("share_power_btn"),_=document.getElementById("research_window"),y=document.getElementById("research_searchbox"),E=(document.getElementById("research_list"),document.getElementById("recipes_window")),v=document.getElementById("recipes_searchbox");function f(){null==c||c.classList.toggle("active"),i&&w(),null==_||_.classList.toggle("hidden"),n=!n}function w(){null==d||d.classList.toggle("active"),n&&f(),null==E||E.classList.toggle("hidden"),i=!i}document.getElementById("recipes_list"),document.getElementById("production_calculator_canvas"),document.getElementById("power_calculator_canvas"),[[s,"click",function(){null==s||s.classList.add("active"),null==l||l.classList.remove("active"),null==r||r.classList.remove("hidden"),null==u||u.classList.remove("hidden"),null==h||h.classList.add("hidden"),null==p||p.classList.remove("hidden"),null==g||g.classList.add("hidden")}],[l,"click",function(){null==s||s.classList.remove("active"),null==l||l.classList.add("active"),null==r||r.classList.add("hidden"),null==u||u.classList.add("hidden"),null==h||h.classList.remove("hidden"),null==p||p.classList.add("hidden"),null==g||g.classList.remove("hidden")}],[c,"click",f],[d,"click",w],[a,"click",function(){new t("Not implemented","This is not yet implemented, sorry.",e.DEFAULT,1e4)}],[m,"click",function(){new t("Not implemented","This is not yet implemented, sorry.",e.DEFAULT,1e4)}],[p,"click",function(){new t("Not implemented","This is not yet implemented, sorry.",e.DEFAULT,1e4)}],[g,"click",function(){new t("Not implemented","This is not yet implemented, sorry.",e.DEFAULT,1e4)}],[y,"input",function(){}],[v,"input",function(){}]].forEach((([n,i,o])=>{n?n.addEventListener(i,o):new t("Missing element",'An element on the page is missing.<br>If you\'re using any kind of blockers, try disabling them.<br>If this persists, please <a href="">create an issue here.</a>',e.ERROR)})),window.location.search&&function(){var n,i,o,s;let l,c,d,r;const a=new URLSearchParams(window.location.search);a.get("pwr");try{l=JSON.parse(null!==(n=a.get("research"))&&void 0!==n?n:"[]"),c=JSON.parse(null!==(i=a.get("recipes"))&&void 0!==i?i:"[]"),d=JSON.parse(null!==(o=a.get("input"))&&void 0!==o?o:"[]"),r=JSON.parse(null!==(s=a.get("output"))&&void 0!==s?s:"[]"),[l,c,d,r].forEach((e=>{if(!Array.isArray(e))throw new Error}))}catch(n){return new t("Invalid JSON",'\n\t\t\tThe JSON parameters (after the question mark in the URL) seem to be malformed.<br>\n\t\t\tIf you\'ve got some time, could you maybe <a target="_blank" href="https://github.com/TimKoenig96/coi-calculator/issues/new">create an issue</a>?<br>\n\t\t\tTo fix this, remove everything after the question mark and recreate the calculation.\n\t\t\t',e.ERROR),!1}}()})();