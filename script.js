(()=>{"use strict";var e={m:{},u:e=>e+".script.js"};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var a=e.g.document;if(!t&&a&&(a.currentScript&&"SCRIPT"===a.currentScript.tagName.toUpperCase()&&(t=a.currentScript.src),!t)){var n=a.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.b=document.baseURI||self.location.href;class t{static#e=[];static#t=new Map;static category={NATURAL_RESOURCE:"Natural Resource",SEMI_PROCESSED_RESOURCE:"Semi-Processed Resource",CRAFTED_MATERIAL:"Crafted Material",FOOD_AND_MEDICAL:"Food and Medical",PETROCHEMICAL:"Petrochemical",POWER_AND_NUCLEAR:"Power and Nuclear",WASTE_AND_POLLUTION:"Waste and Pollution"};static state={LOOSE:"Loose",UNIT:"Unit",FLUID:"Fluid",MOLTEN:"Molten",VIRTUAL:"Virtual",MECHANIC:"Mechanic"};constructor(e,a,n){this.name=e,this.category=a,this.state=n,t.#e.push(this),t.#t.set(e,this)}static instantiateAll(){new t("Coal",t.category.NATURAL_RESOURCE,t.state.LOOSE),new t("Copper Ore",t.category.NATURAL_RESOURCE,t.state.LOOSE),new t("Dirt",t.category.NATURAL_RESOURCE,t.state.LOOSE),new t("Gold Ore",t.category.NATURAL_RESOURCE,t.state.LOOSE),new t("Iron Ore",t.category.NATURAL_RESOURCE,t.state.LOOSE),new t("Limestone",t.category.NATURAL_RESOURCE,t.state.LOOSE),new t("Quartz",t.category.NATURAL_RESOURCE,t.state.LOOSE),new t("Rock",t.category.NATURAL_RESOURCE,t.state.LOOSE),new t("Sand",t.category.NATURAL_RESOURCE,t.state.LOOSE),new t("Seawater",t.category.NATURAL_RESOURCE,t.state.FLUID),new t("Sulfur",t.category.NATURAL_RESOURCE,t.state.LOOSE),new t("Uranium Ore",t.category.NATURAL_RESOURCE,t.state.LOOSE),new t("Wood",t.category.NATURAL_RESOURCE,t.state.UNIT),new t("Water",t.category.NATURAL_RESOURCE,t.state.FLUID),new t("Acid",t.category.SEMI_PROCESSED_RESOURCE,t.state.FLUID),new t("Brine",t.category.SEMI_PROCESSED_RESOURCE,t.state.FLUID),new t("Broken Glass",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Cement",t.category.SEMI_PROCESSED_RESOURCE,t.state.UNIT),new t("Chilled Water",t.category.SEMI_PROCESSED_RESOURCE,t.state.FLUID),new t("Copper Ore Crushed",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Copper Scrap",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Copper Scrap Pressed",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Glass Mix",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Gold Ore Concentrate",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Gold Ore Crushed",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Gold Ore Powder",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Gold Scrap",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Gold Scrap Pressed",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Graphite",t.category.SEMI_PROCESSED_RESOURCE,t.state.UNIT),new t("Gravel",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Impure Copper",t.category.SEMI_PROCESSED_RESOURCE,t.state.UNIT),new t("Iron Ore Crushed",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Iron Scrap",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Iron Scrap Pressed",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Manufactured Sand",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Molten Copper",t.category.SEMI_PROCESSED_RESOURCE,t.state.MOLTEN),new t("Molten Glass",t.category.SEMI_PROCESSED_RESOURCE,t.state.MOLTEN),new t("Molten Iron",t.category.SEMI_PROCESSED_RESOURCE,t.state.MOLTEN),new t("Molten Silicon",t.category.SEMI_PROCESSED_RESOURCE,t.state.MOLTEN),new t("Molten Steel",t.category.SEMI_PROCESSED_RESOURCE,t.state.MOLTEN),new t("Quartz Crushed",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Recyclables",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Recyclables Pressed",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Salt",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Slag Crushed",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Uranium Ore Crushed",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Woodchips",t.category.SEMI_PROCESSED_RESOURCE,t.state.LOOSE),new t("Bricks",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Concrete Slab",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Construction Parts",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Construction Parts II",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Construction Parts III",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Construction Parts IV",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Consumer Electronics",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Copper",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Electronics",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Electronics II",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Electronics III",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Filter Media",t.category.CRAFTED_MATERIAL,t.state.LOOSE),new t("Flowers",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Glass",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Gold",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Household Appliances",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Household Goods",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Iron",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Lab Equipment",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Lab Equipment II",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Lab Equipment III",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Lab Equipment IV",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Maintenance I",t.category.CRAFTED_MATERIAL,t.state.VIRTUAL),new t("Maintenance II",t.category.CRAFTED_MATERIAL,t.state.VIRTUAL),new t("Maintenance III",t.category.CRAFTED_MATERIAL,t.state.VIRTUAL),new t("Mechanical Parts",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Microchips",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Microchips Stage 1 A",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Microchips Stage 1 B",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Microchips Stage 1 C",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Microchips Stage 2 A",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Microchips Stage 2 B",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Microchips Stage 2 C",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Microchips Stage 3 A",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Microchips Stage 3 B",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Microchips Stage 3 C",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Microchips Stage 4 A",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Microchips Stage 4 B",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Paper",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("PCB",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Server",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Silicon (Poly)",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Silicon Wafer",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Solar Cell",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Solar Cell Mono",t.category.CRAFTED_MATERIAL,t.state.LOOSE),new t("Steel",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Vehicle Parts",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Vehicle Parts II",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Vehicle Parts III",t.category.CRAFTED_MATERIAL,t.state.UNIT),new t("Anesthetics",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Animal Feed",t.category.FOOD_AND_MEDICAL,t.state.LOOSE),new t("Antibiotics",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Bread",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Cake",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Canola",t.category.FOOD_AND_MEDICAL,t.state.LOOSE),new t("Chicken Carcass",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Compost",t.category.FOOD_AND_MEDICAL,t.state.LOOSE),new t("Cooking Oil",t.category.FOOD_AND_MEDICAL,t.state.FLUID),new t("Corn Mash",t.category.FOOD_AND_MEDICAL,t.state.FLUID),new t("Corn",t.category.FOOD_AND_MEDICAL,t.state.LOOSE),new t("Disinfectant",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Eggs",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Ethanol",t.category.FOOD_AND_MEDICAL,t.state.FLUID),new t("Fertility",t.category.FOOD_AND_MEDICAL,t.state.FLUID),new t("Fertilizer (Organic)",t.category.FOOD_AND_MEDICAL,t.state.FLUID),new t("Fertilizer I",t.category.FOOD_AND_MEDICAL,t.state.FLUID),new t("Fertilizer II",t.category.FOOD_AND_MEDICAL,t.state.FLUID),new t("Flour",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Food Pack",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Fruit",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Green Manure",t.category.FOOD_AND_MEDICAL,t.state.VIRTUAL),new t("Meat Trimmings",t.category.FOOD_AND_MEDICAL,t.state.LOOSE),new t("Meat",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Medical Equipment",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Medical Supplies",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Medical Supplies II",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Medical Supplies III",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Morphine",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Poppy",t.category.FOOD_AND_MEDICAL,t.state.LOOSE),new t("Potato",t.category.FOOD_AND_MEDICAL,t.state.LOOSE),new t("Sausage",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Snack",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Soybean",t.category.FOOD_AND_MEDICAL,t.state.LOOSE),new t("Sugar Cane",t.category.FOOD_AND_MEDICAL,t.state.LOOSE),new t("Sugar",t.category.FOOD_AND_MEDICAL,t.state.LOOSE),new t("Tofu",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Tree Sapling",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Vegetables",t.category.FOOD_AND_MEDICAL,t.state.UNIT),new t("Wheat",t.category.FOOD_AND_MEDICAL,t.state.LOOSE),new t("Crude Oil",t.category.PETROCHEMICAL,t.state.FLUID),new t("Sour Water",t.category.PETROCHEMICAL,t.state.FLUID),new t("Heavy Oil",t.category.PETROCHEMICAL,t.state.FLUID),new t("Medium Oil",t.category.PETROCHEMICAL,t.state.FLUID),new t("Diesel",t.category.PETROCHEMICAL,t.state.FLUID),new t("Light Oil",t.category.PETROCHEMICAL,t.state.FLUID),new t("Fuel Gas",t.category.PETROCHEMICAL,t.state.FLUID),new t("Naphtha",t.category.PETROCHEMICAL,t.state.FLUID),new t("Ammonia",t.category.PETROCHEMICAL,t.state.FLUID),new t("Chlorine",t.category.PETROCHEMICAL,t.state.FLUID),new t("Hydrogen",t.category.PETROCHEMICAL,t.state.FLUID),new t("Nitrogen",t.category.PETROCHEMICAL,t.state.FLUID),new t("Oxygen",t.category.PETROCHEMICAL,t.state.FLUID),new t("Hydrogen Fluoride",t.category.PETROCHEMICAL,t.state.FLUID),new t("Plastic",t.category.PETROCHEMICAL,t.state.UNIT),new t("Rubber",t.category.PETROCHEMICAL,t.state.UNIT),new t("Electricity",t.category.POWER_AND_NUCLEAR,t.state.VIRTUAL),new t("Mechanical Power",t.category.POWER_AND_NUCLEAR,t.state.MECHANICAL),new t("Heat",t.category.POWER_AND_NUCLEAR,t.state.VIRTUAL),new t("Steam (Super)",t.category.POWER_AND_NUCLEAR,t.state.FLUID),new t("Steam (High)",t.category.POWER_AND_NUCLEAR,t.state.FLUID),new t("Steam (Low)",t.category.POWER_AND_NUCLEAR,t.state.FLUID),new t("Steam Depleted",t.category.POWER_AND_NUCLEAR,t.state.FLUID),new t("Blanket Fuel",t.category.POWER_AND_NUCLEAR,t.state.FLUID),new t("Blanket Fuel (Enriched)",t.category.POWER_AND_NUCLEAR,t.state.FLUID),new t("Core Fuel",t.category.POWER_AND_NUCLEAR,t.state.FLUID),new t("Core Fuel (Spent)",t.category.POWER_AND_NUCLEAR,t.state.FLUID),new t("Depleted Uranium",t.category.POWER_AND_NUCLEAR,t.state.LOOSE),new t("Enriched Uranium (4%)",t.category.POWER_AND_NUCLEAR,t.state.UNIT),new t("Enriched Uranium (20%)",t.category.POWER_AND_NUCLEAR,t.state.UNIT),new t("Fission Product",t.category.POWER_AND_NUCLEAR,t.state.UNIT),new t("MOX Rod",t.category.POWER_AND_NUCLEAR,t.state.UNIT),new t("Plutonium",t.category.POWER_AND_NUCLEAR,t.state.UNIT),new t("Reprocessed Uranium (1%)",t.category.POWER_AND_NUCLEAR,t.state.UNIT),new t("Retired Waste",t.category.POWER_AND_NUCLEAR,t.state.UNIT),new t("Spent Fuel",t.category.POWER_AND_NUCLEAR,t.state.UNIT),new t("Spent MOX",t.category.POWER_AND_NUCLEAR,t.state.UNIT),new t("Uranium Rod",t.category.POWER_AND_NUCLEAR,t.state.UNIT),new t("Yellow Cake",t.category.POWER_AND_NUCLEAR,t.state.LOOSE),new t("Air Pollution",t.category.WASTE_AND_POLLUTION,t.state.VIRTUAL),new t("Biomass",t.category.WASTE_AND_POLLUTION,t.state.LOOSE),new t("Carbon Dioxide",t.category.WASTE_AND_POLLUTION,t.state.FLUID),new t("Exhaust",t.category.WASTE_AND_POLLUTION,t.state.FLUID),new t("Radiation",t.category.WASTE_AND_POLLUTION,t.state.VIRTUAL),new t("Slag",t.category.WASTE_AND_POLLUTION,t.state.LOOSE),new t("Sludge",t.category.WASTE_AND_POLLUTION,t.state.LOOSE),new t("Toxic Slurry",t.category.WASTE_AND_POLLUTION,t.state.FLUID),new t("Waste",t.category.WASTE_AND_POLLUTION,t.state.LOOSE),new t("Water Pollution",t.category.WASTE_AND_POLLUTION,t.state.VIRTUAL),new t("Waste Pressed",t.category.WASTE_AND_POLLUTION,t.state.LOOSE),new t("Waste Water",t.category.WASTE_AND_POLLUTION,t.state.FLUID)}static getItemsInCategory(e){return t.#e.filter((t=>t.category===e))}static get(e){return t.#t.get(e)}}class a{static#a=[];static#n=new Map;constructor(e,t,n,r,E,o,s){this.name=e,this.workers=t,this.power=n,this.maintenance_1=r,this.maintenance_2=E,this.maintenance_3=o,this.build_cost=s,a.#a.push(this),a.#n.set(e,this)}static instantiateAll(){new a("Air Separator",6,.25,6,0,0,[[t.get("Construction Parts II"),2]])}static get(e){return a.#n.get(e)}}class n{static#r=["default","success","warning","error"];static#E=document.getElementById("notifs_container");constructor(e,t,a="default",r=0){this.element,this.timeout,n.#r.includes(a)||(a="default"),this.#o(e,t,a),r&&(this.timeout=setTimeout(this.#s.bind(this),r)),this.#c()}#o(e,t,a){this.element=document.createElement("div"),a&&this.element.classList.add(a),this.element.innerHTML=`<h1>${e}</h1><p>${t}</p><br><a href="">Close message</a>`,this.element.children[3].addEventListener("click",this.#s.bind(this))}#c(){n.#E.prepend(this.element)}#s(e){e?.preventDefault(),this.element.remove(),clearTimeout(this.timeout)}}let r,E=!1,o=!1;const s=document.getElementById("production_calculator_btn"),c=document.getElementById("power_calculator_btn"),i=document.getElementById("set_research_btn"),A=document.getElementById("set_recipes_btn"),O=document.getElementById("production_inputs_container"),_=(document.getElementById("production_input_list_container"),document.getElementById("add_production_input_btn")),I=document.getElementById("production_outputs_container"),R=(document.getElementById("production_output_list_container"),document.getElementById("add_production_output_btn")),L=document.getElementById("power_output_container"),D=document.getElementById("power_output_field"),g=document.getElementById("share_production_btn"),C=document.getElementById("share_power_btn"),S=document.getElementById("research_window"),T=document.getElementById("research_searchbox"),l=(document.getElementById("research_list"),document.getElementById("recipes_window")),y=document.getElementById("recipes_searchbox"),U=document.getElementById("recipes_list");function N(){s.classList.remove("active"),c.classList.add("active"),O.classList.add("hidden"),I.classList.add("hidden"),L.classList.remove("hidden"),g.classList.add("hidden"),C.classList.remove("hidden")}function w(){i.classList.toggle("active"),o&&d(),S.classList.toggle("hidden"),E=!E}function d(){A.classList.toggle("active"),E&&w(),l.classList.toggle("hidden"),o=!o}document.getElementById("production_calculator_canvas"),document.getElementById("power_calculator_canvas"),new Set([[s,["click",function(){s.classList.add("active"),c.classList.remove("active"),O.classList.remove("hidden"),I.classList.remove("hidden"),L.classList.add("hidden"),g.classList.remove("hidden"),C.classList.add("hidden")}]],[c,["click",N]],[i,["click",w]],[A,["click",d]],[_,["click",function(){new n("TODO","This is not yet implemented, sorry.","default",1e4)}]],[R,["click",function(){new n("TODO","This is not yet implemented, sorry.","default",1e4)}]],[g,["click",function(){new n("TODO","This is not yet implemented, sorry.","default",1e4)}]],[C,["click",function(){new n("TODO","This is not yet implemented, sorry.","default",1e4)}]],[T,["input",function(){}]],[y,["input",function(){}]]]).forEach((([e,t])=>e.addEventListener(t[0],t[1]))),t.instantiateAll(),a.instantiateAll(),function(){for(const[a,n]of Object.entries(t.category)){const t=document.createElement("div");t.id=`recipes_category_${a}`,t.classList.add("flex_col"),t.innerHTML=`\n\t\t\t<h1>${n}</h1>\n\t\t\t<div id="recipes_category_${a}_list">\n\t\t\t\t${e(n)}\n\t\t\t</div>\n\t\t\t<hr>\n\t\t`,U.appendChild(t)}function e(e){const a=t.getItemsInCategory(e);return a.forEach((e=>{})),a.map((e=>e.name)).join(", ")}}(),function(){if(!window.location.search)return;const e=new URLSearchParams(window.location.search),t="1"===e.get("pwr");let a,r,E;try{a=JSON.parse(e.get("research")??"[]"),r=JSON.parse(e.get("recipes")??"[]"),E=JSON.parse(e.get("data")??"[]")}catch(e){return void new n("Invalid JSON",'The JSON parameters (after the question mark in the URL) seem to be malformed.<br>\n\t\t\tIf you\'ve got some time, could you maybe <a target="_blank" href="https://github.com/TimKoenig96/coi-calculator/issues/new">create an issue</a>?<br>\n\t\t\tTo fix this, remove everything after the question mark and recreate the calculation.',"error")}return[t,a,r,E]}()&&function([e,t,a,n]){e&&(N(),D.value=Number(n.power_output??0))}(),r=new Worker(new URL(e.p+e.u(495),e.b),{type:void 0}),r.addEventListener("message",(function(e){}))})();